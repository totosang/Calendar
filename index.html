<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <title>Responsive Calendar</title> <style>body{font-family:Arial,sans-serif;background-color:#f4f4f9;margin:0;display:flex;flex-wrap:wrap;justify-content:center;align-items:flex-start}.calendar-container{display:flex;flex-wrap:wrap;gap:10px;width:100%;justify-content:center;padding:10px}.calendar{background:#fff;border-radius:10px;box-shadow:0 4px 10px rgba(0,0,0,.1);overflow:hidden;display:flex;flex-direction:column}.calendar.large{width:95%;max-width:100%}.calendar.medium{width:48%;max-width:48%}.calendar.small{width:23%;max-width:23%}.calendar-header{text-align:center;background-color:#4caf50;color:#fff;padding:10px}.calendar-header h1{margin:0;font-size:1.2em}.days{display:grid;grid-template-columns:repeat(7,1fr);background:#ddd;text-align:center;font-weight:700;padding:5px 0}.dates{display:grid;grid-template-columns:repeat(7,1fr);gap:1px;background:#ddd}.date{background:#fff;min-height:80px;text-align:center;position:relative;cursor:pointer;display:flex;justify-content:center;align-items:center;flex-direction:column;font-size:.9em}.calendar.large .date{min-height:100px}.calendar.medium .date{min-height:80px}.calendar.small .date{min-height:60px}.date.saturday,.date.sunday{background-color:rgba(255,0,0,.1)}.status-button{width:15px;height:15px;background-color:green;border:none;border-radius:50%;position:absolute;top:5px;right:5px;cursor:pointer}.status-button.red{background-color:red}.tasks{font-size:.9em;color:#555;text-align:center;margin-top:5px;word-break:break-word;display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.delete-task{margin-left:5px;color:red;cursor:pointer;font-size:.8em}.modal{position:fixed;top:20%;left:50%;transform:translate(-50%,-20%);width:100%;height:auto;background:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center;visibility:hidden;z-index:9999}.modal.active{visibility:visible}.modal-content{background:#fff;padding:20px;border-radius:10px;width:90%;max-width:400px;text-align:center;box-shadow:0 4px 10px rgba(0,0,0,.1)}</style> </head> <body> <div class="calendar-container" id="calendarContainer"></div> <div class="modal" id="taskModal"> <div class="modal-content"> <h2>Add Task</h2> <p id="selectedDate"></p> <input type="text" id="taskInput" placeholder="Enter task"> <div style="margin-top:15px"> <button onclick="addTask()" style="margin-right:10px">Add</button> <button onclick="closeModal()">Close</button> </div> </div> </div> <script>const calendarContainer=document.getElementById("calendarContainer"),taskModal=document.getElementById("taskModal"),selectedDateElement=document.getElementById("selectedDate"),taskInput=document.getElementById("taskInput"),today=new Date,currentYear=today.getFullYear(),currentMonth=today.getMonth();function createCalendar(e,t,n="small"){const a=document.createElement("div");a.classList.add("calendar",n);const l=document.createElement("div");l.classList.add("calendar-header");const d=new Date(t,e).toLocaleString("default",{month:"long",year:"numeric"});l.innerHTML=`<h1>${d}</h1>`,a.appendChild(l);const r=document.createElement("div");r.classList.add("days");["จ.","อ.","พ.","พฤ.","ศ.","ส.","อา."].forEach(e=>{const t=document.createElement("div");t.textContent=e,r.appendChild(t)}),a.appendChild(r);const o=document.createElement("div");o.classList.add("dates");const s=(new Date(t,e,1).getDay()+6)%7,c=new Date(t,e+1,0).getDate();for(let e=0;e<s;e++){const e=document.createElement("div");e.classList.add("date"),o.appendChild(e)}for(let n=1;n<=c;n++){const l=document.createElement("div");l.classList.add("date");const d=new Date(t,e,n),r=d.getDay();6===r&&l.classList.add("saturday"),0===r&&l.classList.add("sunday"),l.textContent=n;const s=document.createElement("button");s.classList.add("status-button"),(0===r||6===r)&&s.classList.add("red"),s.addEventListener("click",e=>{e.stopPropagation(),s.classList.toggle("red")}),l.appendChild(s),getTasksForDate(t,e,n).forEach(a=>{const r=document.createElement("div");r.classList.add("tasks"),r.innerHTML=`${a}<span class="delete-task">✖</span>`,r.querySelector(".delete-task").addEventListener("click",l=>{l.stopPropagation(),removeTask(t,e,n,a),r.remove()}),l.appendChild(r)}),l.addEventListener("click",()=>openModal(t,e,n)),o.appendChild(l)}return a.appendChild(o),a}function renderAllCalendars(){calendarContainer.innerHTML="";const e=createCalendar(currentMonth,currentYear,"large");calendarContainer.appendChild(e);const t=createCalendar((currentMonth+1)%12,currentMonth+1>11?currentYear+1:currentYear,"medium");calendarContainer.appendChild(t);for(let e=2;e<12;e++){const t=(currentMonth+e)%12,n=currentMonth+e>11?currentYear+1:currentYear,a=createCalendar(t,n,"small");calendarContainer.appendChild(a)}}function openModal(e,t,n){selectedDateElement.textContent=`${n}/${t+1}/${e}`,taskInput.value="",taskModal.classList.add("active")}function closeModal(){taskModal.classList.remove("active")}function addTask(){const e=taskInput.value.trim();if(e){const[t,n,a]=selectedDateElement.textContent.split("/").map(Number);saveTask(a,n-1,t,e),closeModal(),renderAllCalendars()}else alert("กรุณากรอกข้อความ!")}function saveTask(e,t,n,a){const l=JSON.parse(localStorage.getItem("calendarTasks"))||{};const d=`${e}-${t}-${n}`;l[d]||(l[d]=[]),l[d].push(a),localStorage.setItem("calendarTasks",JSON.stringify(l))}function getTasksForDate(e,t,n){return(JSON.parse(localStorage.getItem("calendarTasks"))||{})[`${e}-${t}-${n}`]||[]}function removeTask(e,t,n,a){const l=JSON.parse(localStorage.getItem("calendarTasks"))||{},d=`${e}-${t}-${n}`;l[d]&&(l[d]=l[d].filter(e=>e!==a),l[d].length||delete l[d],localStorage.setItem("calendarTasks",JSON.stringify(l)))}taskInput.addEventListener("keypress",e=>{"Enter"===e.key&&addTask()}),renderAllCalendars();</script> </body> </html>
